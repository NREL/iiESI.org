/*!
*  Project: Iconomatic
*  Description: Detect links to native files and append the proper icon image after the link
*  Author: Michael Oakley
*  License: MIT
*/
(function(a,b,c,d){"use strict";var e="//www.nrel.gov/images/";var f={avi:{path:e+"icon_video.gif",type:"Video"},doc:{path:e+"icon_word.gif",type:"Microsoft Word"},docx:{path:e+"icon_word.gif",type:"Microsoft Word"},gif:{path:e+"icon_image.gif",type:"GIF"},jpg:{path:e+"icon_image.gif",type:"JPG"},m3u:{path:e+"icon_audio.gif",type:"Audio"},mov:{path:e+"icon_video.gif",type:"Video"},mp3:{path:e+"icon_audio.gif",type:"Audio"},mpg:{path:e+"icon_video.gif",type:"Video"},mpeg:{path:e+"icon_video.gif",type:"Video"},pdf:{path:e+"icon_pdf.gif",type:"PDF"},ppt:{path:e+"icon_powerpoint.gif",type:"Microsoft PowerPoint"},pptx:{path:e+"icon_powerpoint.gif",type:"Microsoft PowerPoint"},wmv:{path:e+"icon_video.gif",type:"Video"},txt:{path:e+"icon_text.gif",type:"Text"},xls:{path:e+"icon_excel.gif",type:"Microsoft Excel"},xlsx:{path:e+"icon_excel.gif",type:"Microsoft Excel"},xlsm:{path:e+"icon_excel.gif",type:"Microsoft Excel"},zip:{path:e+"icon_zip.gif",type:"ZIP Archive"}};var g="iconomatic";var h={ajax:false,dataMode:false,dataAttr:"iconomatic",iconClass:"fileIcon",filesObj:f};function i(b,c){this.element=b;this.options=a.extend({},h,c);this._defaults=h;this._name=g;this.init()}i.prototype={init:function(){var b,c;c=a("body");b=this.getLinks(c);this.addIcons(b);if(this.options.ajax){this.enableAjax()}},getLinks:function(b){var c,d,e,f;c=this.options;d=c.filesObj;e="data-"+c.dataAttr;f=[];a(b).find("a").filter(function(){return!a(this).attr("data-iconomatic-tagged")}).each(function(b,g){var h,i;h=a(g).attr("href");if(typeof h!=="undefined"&&h!==null&&h!==""){i=h.toLowerCase().split(".").splice(-1,1).toString();if(i in d){a(g).attr("data-iconomatic-tagged",i);f.push(g)}}if(c.dataMode){if(a(g).attr(e)){a(g).attr("data-iconomatic-tagged",function(){return a(this).attr(e)});f.push(g)}}});return f},enableAjax:function(){var a,d,e,f,g=this;if(b.MutationObserver||b.WebKitMutationObserver||b.MozMutationObserver){d=b.MutationObserver||b.WebKitMutationObserver||b.MozMutationObserver}else{return true}e=c.querySelector("body");f=new d(function(b){b.forEach(function(b){if(b.type==="childList"){a=g.getLinks(b.target);g.addIcons(a)}})});f.observe(e,{childList:true,subtree:true})},addIcons:function(b){var c=this.options;a(b).filter(function(){return a(this).has("img").length===0}).each(function(b,d){var e,f,g;e=a(d).data("iconomatic-tagged");f=typeof c.filesObj[e]!=="undefined"?c.filesObj[e].path:false;if(f){g={"class":c.iconClass,alt:c.filesObj[e].type,src:f};a("<img />",g).appendTo(d)}})}};a.fn[g]=function(b){return this.each(function(){if(!a.data(this,"plugin_"+g)){a.data(this,"plugin_"+g,new i(this,b))}})}})(jQuery,window,document);
//# sourceMappingURL=jquery.iconomatic.min.map